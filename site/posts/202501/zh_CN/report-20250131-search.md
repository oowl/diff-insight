---
date: '2025-01-31'
permalink: https://github.com/MicrosoftDocs/azure-ai-docs/compare/MicrosoftDocs:62147e0...MicrosoftDocs:7db5cb6
summary: 此次代码变更主要集中在新增和修改与Azure AI相关的文档及图像资源，以提升用户体验。新增了一幅图像文件，并对多个现有的图像和文档进行了修改。这些改动大多属于新增功能或次要更新，没有涉及到代码的增删。特别新增的图像文件
  `cluster-green-dot.png` 旨在增强Azure AI的视觉呈现，而对其他图像文件的修改则可能是为了提高图像质量或适应界面变化。此外，更新的文档和目录文件有助于确保用户获取最新且准确的信息，从而改善其在使用Azure
  AI和SynapseML时的体验。整体来看，这些更新反映了开发团队对用户体验和资源优化的重视。
title: '[zh_CN] Diff Insight Report - search'

---

[View Diff on GitHub](https://github.com/MicrosoftDocs/azure-ai-docs/compare/MicrosoftDocs:62147e0...MicrosoftDocs:7db5cb6){target="_blank"}

# Highlights
这次代码变更主要集中在新增和修改Azure AI相关文档和图像资源，以增强用户体验。新增了一个图像文件，并修改了多个现有图像和文档。所有更改主要属于新增功能或次要更新，没有涉及到代码的增删。

## New features
- 新增了图像文件 `cluster-green-dot.png`，以辅助Azure AI的视觉呈现。

## Breaking changes
- 本次更改中没有破坏性更新。

## Other updates
- 修改了多个图像文件，包括 `create-notebook.png`、`create-seven-cells.png`、`install-library-from-maven.png`、`install-library.png`。
- 更新了文档 `search-synapseml-cognitive-services.md`，改善了对SynapseML和Azure AI Search的描述。
- 更新目录文件 `toc.yml`，精确调整入口名称。

# Insights
本次更新主要涉及到文档和图像资源的更新和优化，其中新增的 `cluster-green-dot.png` 图片很可能用于提升用户界面的一致性与直观性。这种新增功能对于帮助用户更好地理解分布式集群或相关资源的状态至关重要。

对现有图像文件的多处修改可能是为了改进用户体验，如提高图片的分辨率、更新用户界面的变化或者简单的图形修正。虽然具体的修改细节没有一一列出，但可通过更新后的URL查看修改内容。

文档 `search-synapseml-cognitive-services.md` 的更新标志着对技术依赖和功能描述的刷新，确保用户能获取最新、最精确的指南信息。更新后的内容可能会改进用户在使用SynapseML与Azure AI相结合时的体验，尤其是对于创建多服务Azure帐户的步骤和API选择的细化说明。

目录文件 `toc.yml` 的修改通过改善入口名的准确性，有助于提升用户对内容定位的精准度。这看似微小的更改，实则反映出对用户体验和文件组织的高要求。这些调整表明开发团队致力于通过文档和媒介资源的整理和更新，提供一个更直观、易用的学习和使用平台。

# Summary Table
|  Filename  | Type |    Title    | Status | A  | D  | M  |
|------------|------|-------------|--------|----|----|----|
| [cluster-green-dot.png](#item-8a5464) | new feature | 新增图像文件：cluster-green-dot.png | added | 0 | 0 | 0 | 
| [create-notebook.png](#item-b2c8c3) | minor update | 修改图像文件：create-notebook.png | modified | 0 | 0 | 0 | 
| [create-seven-cells.png](#item-54e8b4) | minor update | 修改图像文件：create-seven-cells.png | modified | 0 | 0 | 0 | 
| [install-library-from-maven.png](#item-e5e25c) | minor update | 修改图像文件：install-library-from-maven.png | modified | 0 | 0 | 0 | 
| [install-library.png](#item-6313a1) | minor update | 修改图像文件：install-library.png | modified | 0 | 0 | 0 | 
| [search-synapseml-cognitive-services.md](#item-dcc36f) | minor update | 更新文档：search-synapseml-cognitive-services.md | modified | 22 | 18 | 40 | 
| [toc.yml](#item-c4768f) | minor update | 更新目录文件：toc.yml | modified | 1 | 1 | 2 | 


# Modified Contents
## articles/search/media/search-synapseml-cognitive-services/cluster-green-dot.png{#item-8a5464}

### Summary

```json
{
    "modification_type": "new feature",
    "modification_title": "新增图像文件：cluster-green-dot.png"
}
```

### Explanation
此次代码变更中添加了一张新的图片文件，文件名为 `cluster-green-dot.png`。该文件位于 `articles/search/media/search-synapseml-cognitive-services/` 目录下，旨在为与 Azure AI 相关的搜索功能提供视觉支持。此更改未涉及添加或删除代码行，因此标记为“新增功能”。用户可以通过以下链接查看和下载该图像：[查看图像](https://github.com/MicrosoftDocs/azure-ai-docs/blob/7db5cb6d900a83206d9196b54ccacd0101c681ee/articles%2Fsearch%2Fmedia%2Fsearch-synapseml-cognitive-services%2Fcluster-green-dot.png)。

## articles/search/media/search-synapseml-cognitive-services/create-notebook.png{#item-b2c8c3}

### Summary

```json
{
    "modification_type": "minor update",
    "modification_title": "修改图像文件：create-notebook.png"
}
```

### Explanation
此次代码变更涉及对图像文件 `create-notebook.png` 的修改。该文件位于 `articles/search/media/search-synapseml-cognitive-services/` 目录下。在此更新中，没有新增或删除任何代码行，因此归类为“次要更新”。具体的修改内容未详细列出，但用户可以通过以下链接查看更新后的图像： [查看图像](https://github.com/MicrosoftDocs/azure-ai-docs/blob/7db5cb6d900a83206d9196b54ccacd0101c681ee/articles%2Fsearch%2Fmedia%2Fsearch-synapseml-cognitive-services%2Fcreate-notebook.png)。

## articles/search/media/search-synapseml-cognitive-services/create-seven-cells.png{#item-54e8b4}

### Summary

```json
{
    "modification_type": "minor update",
    "modification_title": "修改图像文件：create-seven-cells.png"
}
```

### Explanation
此次代码变更涉及对图像文件 `create-seven-cells.png` 的修改。该文件位于 `articles/search/media/search-synapseml-cognitive-services/` 目录下。在此次更新中，没有新增或删除任何代码行，因此被归类为“次要更新”。尽管具体的更改细节没有披露，但用户可以访问以下链接以查看更新后的图像：[查看图像](https://github.com/MicrosoftDocs/azure-ai-docs/blob/7db5cb6d900a83206d9196b54ccacd0101c681ee/articles%2Fsearch%2Fmedia%2Fsearch-synapseml-cognitive-services%2Fcreate-seven-cells.png)。

## articles/search/media/search-synapseml-cognitive-services/install-library-from-maven.png{#item-e5e25c}

### Summary

```json
{
    "modification_type": "minor update",
    "modification_title": "修改图像文件：install-library-from-maven.png"
}
```

### Explanation
此次代码变更涉及对图像文件 `install-library-from-maven.png` 的修改。该文件位于 `articles/search/media/search-synapseml-cognitive-services/` 目录下。在此更新中，没有新增或删除任何代码行，因此归类为“次要更新”。虽未具体说明更改内容，但用户可以通过以下链接查看更新后的图像：[查看图像](https://github.com/MicrosoftDocs/azure-ai-docs/blob/7db5cb6d900a83206d9196b54ccacd0101c681ee/articles%2Fsearch%2Fmedia%2Fsearch-synapseml-cognitive-services%2Finstall-library-from-maven.png)。

## articles/search/media/search-synapseml-cognitive-services/install-library.png{#item-6313a1}

### Summary

```json
{
    "modification_type": "minor update",
    "modification_title": "修改图像文件：install-library.png"
}
```

### Explanation
此次代码变更涉及对图像文件 `install-library.png` 的修改。该文件位于 `articles/search/media/search-synapseml-cognitive-services/` 目录下。在此次更新中，没有新增或删除任何代码行，因此被归类为“次要更新”。具体的更改细节未提及，但用户可以访问以下链接查看更新后的图像：[查看图像](https://github.com/MicrosoftDocs/azure-ai-docs/blob/7db5cb6d900a83206d9196b54ccacd0101c681ee/articles%2Fsearch%2Fmedia%2Fsearch-synapseml-cognitive-services%2Finstall-library.png)。

## articles/search/search-synapseml-cognitive-services.md{#item-dcc36f}

<details>
<summary>Diff</summary>
````diff
@@ -10,7 +10,7 @@ ms.service: azure-ai-search
 ms.custom:
   - ignite-2023
 ms.topic: tutorial
-ms.date: 04/22/2024
+ms.date: 01/30/2025
 ---
 
 # Tutorial: Index large data from Apache Spark using SynapseML and Azure AI Search
@@ -24,7 +24,7 @@ In this Azure AI Search tutorial, learn how to index and query large data loaded
 > + Write the output to a search index hosted in Azure AI Search
 > + Explore and query over the content you created
 
-This tutorial takes a dependency on [SynapseML](https://www.microsoft.com/research/blog/synapseml-a-simple-multilingual-and-massively-parallel-machine-learning-library/), an open source library that supports massively parallel machine learning over big data. In SynapseML, search indexing and machine learning are exposed through *transformers* that perform specialized tasks. Transformers tap into a wide range of AI capabilities. In this exercise, use the **AzureSearchWriter** APIs for analysis and AI enrichment.
+This tutorial takes a dependency on [SynapseML](https://microsoft.github.io/SynapseML/), an open source library that supports massively parallel machine learning over big data. In SynapseML, search indexing and machine learning are exposed through *transformers* that perform specialized tasks. Transformers tap into a wide range of AI capabilities. In this exercise, use the **AzureSearchWriter** APIs for analysis and AI enrichment.
 
 Although Azure AI Search has native [AI enrichment](cognitive-search-concept-intro.md), this tutorial shows you how to access AI capabilities outside of Azure AI Search. By using SynapseML instead of indexers or skills, you're not subject to data limits or other constraints associated with those objects.
 
@@ -35,18 +35,18 @@ Although Azure AI Search has native [AI enrichment](cognitive-search-concept-int
 
 You need the `synapseml` library and several Azure resources. If possible, use the same subscription and region for your Azure resources and put everything into one resource group for simple cleanup later. The following links are for portal installs. The sample data is imported from a public site.
 
-+ [SynapseML package](https://microsoft.github.io/SynapseML/docs/Get%20Started/Install%20SynapseML/#python) <sup>1</sup> 
-+ [Azure AI Search](search-create-service-portal.md) (any tier) <sup>2</sup> 
-+ [Azure AI services](/azure/ai-services/multi-service-resource?pivots=azportal) (any tier) <sup>3</sup> 
-+ [Azure Databricks](/azure/databricks/scenarios/quickstart-create-databricks-workspace-portal?tabs=azure-portal) (any tier) <sup>4</sup>
++ [SynapseML package](https://microsoft.github.io/SynapseML/docs/Get%20Started/Install%20SynapseML/#python) <sup>1</sup>
++ [Azure AI Search](search-create-service-portal.md) (any tier), with an **API Kind** of `AIServices` <sup>2</sup> 
++ [Azure AI multi-service account](/azure/ai-services/multi-service-resource?pivots=azportal) (any tier) <sup>3</sup>
++ [Azure Databricks](/azure/databricks/scenarios/quickstart-create-databricks-workspace-portal?tabs=azure-portal) (any tier) with Apache Spark 3.3.0 runtime<sup>4</sup>
 
 <sup>1</sup> This link resolves to a tutorial for loading the package.
 
 <sup>2</sup> You can use the free search tier to index the sample data, but [choose a higher tier](search-sku-tier.md) if your data volumes are large. For billable tiers, provide the [search API key](search-security-api-keys.md#find-existing-keys) in the [Set up dependencies](#step-2-set-up-dependencies) step further on.
 
-<sup>3</sup> This tutorial uses Azure AI Document Intelligence and Azure AI Translator. In the instructions that follow, provide a [multi-service](/azure/ai-services/multi-service-resource?pivots=azportal) key and the region. The same key works for both services.
+<sup>3</sup> This tutorial uses Azure AI Document Intelligence and Azure AI Translator. In the instructions that follow, provide a [multi-service account](/azure/ai-services/multi-service-resource?pivots=azportal) key and the region. The same key works for both services. **It's important that you use an Azure AI multiservice account of API kind of `AIServices` for this tutorial**. You can check the API kind in the Azure portal on the Overview section of your Azure AI multiservice account page. For more information about API kind, see [Attach an Azure AI multi-service resource in Azure AI Search](cognitive-search-attach-cognitive-services.md).
 
-<sup>4</sup> In this tutorial, Azure Databricks provides the Spark computing platform. We used the [portal instructions](/azure/databricks/scenarios/quickstart-create-databricks-workspace-portal?tabs=azure-portal) to set up the workspace.
+<sup>4</sup> In this tutorial, Azure Databricks provides the Spark computing platform. We used the [portal instructions](/azure/databricks/scenarios/quickstart-create-databricks-workspace-portal?tabs=azure-portal) to set up the cluster and workspace.
 
 > [!NOTE]
 > All of the above Azure resources support security features in the Microsoft Identity platform. For simplicity, this tutorial assumes key-based authentication, using endpoints and keys copied from the Azure portal pages of each service. If you implement this workflow in a production environment, or share the solution with others, remember to replace hard-coded keys with integrated security or encrypted keys.
@@ -63,6 +63,10 @@ In this section, create a cluster, install the `synapseml` library, and create a
 
 1. Accept the default configuration. It takes several minutes to create the cluster.
 
+1. Verify the cluster is operational and running. A green dot by the cluster name confirms its status.
+
+   :::image type="content" source="media/search-synapseml-cognitive-services/cluster-green-dot.png" alt-text="Screenshot of a Data Bricks compute page with a green dot by the cluster name.":::
+
 1. Install the `synapseml` library after the cluster is created:
 
    1. Select **Libraries** from the tabs at the top of the cluster's page.
@@ -73,7 +77,7 @@ In this section, create a cluster, install the `synapseml` library, and create a
 
    1. Select **Maven**.
 
-   1. In Coordinates, enter `com.microsoft.azure:synapseml_2.12:1.0.4`
+   1. In Coordinates, search for or type `com.microsoft.azure:synapseml_2.12:1.0.9`
 
    1. Select **Install**.
 
@@ -85,15 +89,15 @@ In this section, create a cluster, install the `synapseml` library, and create a
 
 1. Give the notebook a name, select **Python** as the default language, and select the cluster that has the `synapseml` library.
 
-1. Create seven consecutive cells. Paste code into each one.
+1. Create seven consecutive cells. You use these to paste in code in the following sections.
 
    :::image type="content" source="media/search-synapseml-cognitive-services/create-seven-cells.png" alt-text="Screenshot of the notebook with placeholder cells." border="true":::
 
 ## Step 2: Set up dependencies
 
 Paste the following code into the first cell of your notebook. 
 
-Replace the placeholders with endpoints and access keys for each resource. Provide a name for a new search index. No other modifications are required, so run the code when you're ready.
+Replace the placeholders with endpoints and access keys for each resource. Provide a name for a new search index that's created for you. No other modifications are required, so run the code when you're ready.
 
 This code imports multiple packages and sets up access to the Azure resources used in this workflow.
 
@@ -103,12 +107,12 @@ from pyspark.sql.functions import udf, trim, split, explode, col, monotonically_
 from pyspark.sql.types import StringType
 from synapse.ml.core.spark import FluentAPI
 
-cognitive_services_key = "placeholder-cognitive-services-multi-service-key"
-cognitive_services_region = "placeholder-cognitive-services-region"
+cognitive_services_key = "placeholder-azure-ai-services-multi-service-key"
+cognitive_services_region = "placeholder-azure-ai-services-region"
 
 search_service = "placeholder-search-service-name"
-search_key = "placeholder-search-service-api-key"
-search_index = "placeholder-search-index-name"
+search_key = "placeholder-search-service-admin-api-key"
+search_index = "placeholder-for-new-search-index-name"
 ```
 
 ## Step 3: Load data into Spark
@@ -128,7 +132,7 @@ def blob_to_url(blob):
 
 
 df2 = (spark.read.format("binaryFile")
-    .load("wasbs://ignite2021@mmlsparkdemo.blob.core.windows.net/form_subset/*")
+    .load("wasbs://publicwasb@mmlspark.blob.core.windows.net/form_subset/*")
     .select("path")
     .limit(10)
     .select(udf(blob_to_url, StringType())("path").alias("url"))
@@ -141,10 +145,10 @@ display(df2)
 
 Paste the following code into the third cell. No modifications are required, so run the code when you're ready.
 
-This code loads the [AnalyzeInvoices transformer](https://mmlspark.blob.core.windows.net/docs/0.11.2/pyspark/synapse.ml.cognitive.form.html#module-synapse.ml.cognitive.form.AnalyzeInvoices) and passes a reference to the data frame containing the invoices. It calls the prebuilt [invoice model](/azure/ai-services/document-intelligence/concept-invoice) of Azure AI Document Intelligence to extract information from the invoices.
+This code loads the [AnalyzeInvoices transformer](https://mmlspark.blob.core.windows.net/docs/1.0.9/pyspark/synapse.ml.services.form.html#module-synapse.ml.services.form.AnalyzeInvoices) and passes a reference to the data frame containing the invoices. It calls the prebuilt [invoice model](/azure/ai-services/document-intelligence/concept-invoice) of Azure AI Document Intelligence to extract information from the invoices.
 
 ```python
-from synapse.ml.cognitive import AnalyzeInvoices
+from synapse.ml.services import AnalyzeInvoices
 
 analyzed_df = (AnalyzeInvoices()
     .setSubscriptionKey(cognitive_services_key)
````
</details>

### Summary

```json
{
    "modification_type": "minor update",
    "modification_title": "更新文档：search-synapseml-cognitive-services.md"
}
```

### Explanation
此次代码变更涉及对文档 `search-synapseml-cognitive-services.md` 的修改。主要更新包括添加了22行内容，同时删除了18行，整体修改总计40行。此次更新主要集中在以下几个方面：

1. 将文档的日期更新为2025年1月30日。
2. 更新了对 SynapseML 库的依赖描述，修正了链接指向。
3. 增加了有关Azure AI Search和SynapseML兼容性的信息，特别是在创建Azure多服务帐户时关于API类型的说明。
4. 更新了具体的安装步骤，例如在 "安装 SynapseML" 的过程中，更新了相关依赖包的版本号。
5. 提供了新的图像说明，以帮助用户确认集群的状态。

用户可以通过以下链接访问更新后的文档：[查看文档](https://github.com/MicrosoftDocs/azure-ai-docs/blob/7db5cb6d900a83206d9196b54ccacd0101c681ee/articles%2Fsearch%2Fsearch-synapseml-cognitive-services.md)。这些更改旨在提供更准确和最新的信息，以便用户能够更好地利用 Azure AI Search 和 SynapseML。

## articles/search/toc.yml{#item-c4768f}

<details>
<summary>Diff</summary>
````diff
@@ -303,7 +303,7 @@ items:
             href: search-how-to-index-sql-server.md
         - name: OneLake files
           href: search-how-to-index-onelake-files.md
-        - name: SharePoint and OneDrive
+        - name: SharePoint Online
           href: search-howto-index-sharepoint-online.md
     - name: Skillsets
       items:
````
</details>

### Summary

```json
{
    "modification_type": "minor update",
    "modification_title": "更新目录文件：toc.yml"
}
```

### Explanation
此次代码变更主要涉及目录文件 `toc.yml` 的修改。具体而言，执行了如下更新：

1. 将原有的 "SharePoint and OneDrive" 名称更改为 "SharePoint Online"，以更准确地反映内容和功能。
2. 同时进行了相应的调整，仅添加和删除了一行，因此整体修改量较小。

这些改动旨在提升文件的准确性和用户对内容的理解。用户可以通过以下链接查看更新后的目录文件：[查看目录](https://github.com/MicrosoftDocs/azure-ai-docs/blob/7db5cb6d900a83206d9196b54ccacd0101c681ee/articles%2Fsearch%2Ftoc.yml)。这种更新有助于优化文档结构，使用户更容易找到相关信息。


