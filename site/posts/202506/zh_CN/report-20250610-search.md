---
date: '2025-06-10'
permalink: https://github.com/MicrosoftDocs/azure-ai-docs/compare/MicrosoftDocs:35b42f4...MicrosoftDocs:4e306c3
summary: 在此次代码变更中，项目目录“articles/search/media/agentic-retrieval/”中引入了新功能和更新，主要集中在文档和图像的改进，以提升用户的理解和使用体验。新增了两个关键图像：“代理到代理的流程图”和“代理检索示例图”，增强了复杂代理操作的可视化理解。文档方面，更新了链接、技术细节及大型语言模型在代理检索中的应用示例，提供了更清晰的实践指导。这些改进旨在帮助用户更有效地利用代理检索技术，实现智能查询和问题解决，提升了整体的知识体系和技术应用支持。
title: '[zh_CN] Diff Insight Report - search'

---

[View Diff on GitHub](https://github.com/MicrosoftDocs/azure-ai-docs/compare/MicrosoftDocs:35b42f4...MicrosoftDocs:4e306c3){target="_blank"}

# Highlights
在此次代码变更中，项目目录“articles/search/media/agentic-retrieval/”中引入了几项新的功能和涵盖了若干小更新。这些变更主要集中在文档和图像更新上，旨在提升用户的理解和使用体验。

## New features
1. 新增“代理到代理的流程图”图像文件，以图形化方式呈现代理间的处理流程。
2. 新增“代理检索示例图”，帮助用户更好地理解代理检索的应用场景。

## Breaking changes
此次变更没有涉及任何损坏性修改。

## Other updates
1. 对“代理检索架构图”的更新，可能提升了其内容的准确性或设计。
2. 对文档链接进行了细微调整，确保用户能正确访问。
3. 更新了代理检索概念和管道相关文档的内容和示例，更详细地描述了代理检索的功能与应用场景。
4. 对使用大型语言模型（LLM）分解复杂问题的解释进行了更新，以增强用户对技术的理解。

# Insights
在这个更新中，主要是在项目的文档和相关图像上进行了细化与补充，目的是为了增强内容的表达效果及提高用户理解复杂流程的便利性。

**新增内容重点：**
在项目中新增了两个重要的图像：一个是代理到代理的流程图，另一个是代理检索示例图。这些图像对于理解复杂的代理操作流程和检索案例至关重要。特别是针对很多技术概念，图形化的表示能让用户迅速掌握核心要义。

**文档细化和更新：**
多份文档中对链接路径、技术细节描述以及新功能的应用实例进行了细致更新。例如，涉及大型语言模型（LLM）在代理检索中的地位及作用。通过强调其在侦测用户复杂意图中的优势，用户将能够更清楚地认识到代理在信息检索领域的革新性贡献。

**技术应用场景的更新：**
文档中增加了关于如何利用 Azure AI Search 以及 Azure AI Agent 服务的整合示意，并指导用户如何在特定业务场景中应用这些技术。这提升了文档深度与实践指导性。

通过这些更新，项目致力于帮助用户更有效地应用代理检索技术，从而实现更智能和精准的查询响应与问题解决方案。文档和图像的新添及更新无疑使整个知识体系更加条理化，也为技术应用提供了坚实的支撑。

# Summary Table
|  Filename  | Type |    Title    | Status | A  | D  | M  |
|------------|------|-------------|--------|----|----|----|
| [agent-to-agent-pipeline.png](#item-9f1346) | new feature | 新增代理到代理的流程图 | added | 0 | 0 | 0 | 
| [agentic-retrieval-architecture.png](#item-2595b1) | minor update | 更新代理检索架构图 | modified | 0 | 0 | 0 | 
| [agentric-retrieval-example.png](#item-4c40a2) | new feature | 新增代理检索示例图 | added | 0 | 0 | 0 | 
| [samples-rest.md](#item-198ebc) | minor update | 更新代理检索示例链接 | modified | 1 | 1 | 2 | 
| [search-agentic-retrieval-concept.md](#item-797a22) | minor update | 更新代理检索概念文档 | modified | 5 | 3 | 8 | 
| [search-agentic-retrieval-how-to-pipeline.md](#item-1ad1c3) | minor update | 更新代理检索管道文档 | modified | 4 | 2 | 6 | 
| [search-agentic-retrieval-how-to-retrieve.md](#item-5f7fc0) | minor update | 更新如何检索文档 | modified | 3 | 3 | 6 | 


# Modified Contents
## articles/search/media/agentic-retrieval/agent-to-agent-pipeline.png{#item-9f1346}

### Summary

```json
{
    "modification_type": "new feature",
    "modification_title": "新增代理到代理的流程图"
}
```

### Explanation
此代码差异表示在项目中新增了一张图像文件，名为“agent-to-agent-pipeline.png”。该文件位于“articles/search/media/agentic-retrieval/”目录下。这次修改没有涉及任何代码的添加或删除，仅仅是将一张图像文件添加到文档中，以图像形式呈现代理到代理的处理流程。这可能旨在帮助用户更好地理解相关的概念或流程。文件可以通过提供的链接访问和查看。

## articles/search/media/agentic-retrieval/agentic-retrieval-architecture.png{#item-2595b1}

### Summary

```json
{
    "modification_type": "minor update",
    "modification_title": "更新代理检索架构图"
}
```

### Explanation
该代码差异显示了对文件“agentic-retrieval-architecture.png”的修改情况。此文件位于“articles/search/media/agentic-retrieval/”目录下。虽然此次修改没有涉及任何行的添加或删除，但它确实表示该图像文件经过更新，可能是为了提升其内容的准确性、清晰度或设计。这种更新对于文档的可读性和理解是有帮助的，用户可以通过提供的链接查看最新的架构图。

## articles/search/media/agentic-retrieval/agentric-retrieval-example.png{#item-4c40a2}

### Summary

```json
{
    "modification_type": "new feature",
    "modification_title": "新增代理检索示例图"
}
```

### Explanation
此代码差异表明在项目中新增了一张名为“agentric-retrieval-example.png”的图像文件，该文件位于“articles/search/media/agentic-retrieval/”目录下。这次修改没有进行任何行的添加或删除，纯粹是增加了一张图像文件，用于说明代理检索的示例。这种新增内容意在帮助用户更好地理解代理检索的应用场景和具体案例。相关图像文件可以通过提供的链接进行访问和查看。

## articles/search/samples-rest.md{#item-198ebc}

<details>
<summary>Diff</summary>
````diff
@@ -28,7 +28,7 @@ Code samples from the Azure AI Search team demonstrate features and workflows. M
 |---------|---------|
 | [quickstart](https://github.com/Azure-Samples/azure-search-rest-samples/tree/main/Quickstart) | Source code for [Quickstart: Text search using REST](search-get-started-rest.md). This sample covers the basic workflow for creating, loading, and querying a search index using sample data. |
 | [quickstart-vectors](https://github.com/Azure-Samples/azure-search-rest-samples/tree/main/Quickstart-vectors) | Source code for [Quickstart: Vector search using REST APIs](search-get-started-vector.md). This sample covers the basic workflow for indexing and querying vector data. |
-| [quickstart-agentic-retrieval](https://github.com/Azure-Samples/azure-search-rest-samples/tree/main/agentic-retrieval) | Source code for the REST portion of [Quickstart: Run agentic retrieval in Azure AI Search](search-get-started-agentic-retrieval.md). This sample shows you how to create a knowledge agent in Azure AI Search to integrate LLM reasoning into query planning. |
+| [quickstart-agentic-retrieval](https://github.com/Azure-Samples/azure-search-rest-samples/tree/main/Quickstart-agentic-retrieval) | Source code for the REST portion of [Quickstart: Run agentic retrieval in Azure AI Search](search-get-started-agentic-retrieval.md). This sample shows you how to create a knowledge agent in Azure AI Search to integrate LLM reasoning into query planning. |
 | [skillset-tutorial](https://github.com/Azure-Samples/azure-search-rest-samples/tree/main/skillset-tutorial) | Source code for [Tutorial: Use REST and AI to generate searchable content from Azure blobs](cognitive-search-tutorial-blob.md). This sample shows you how to create a skillset that iterates over Azure blobs to extract information and infer structure.|
 | [skill examples](https://github.com/Azure-Samples/azure-search-rest-samples/tree/main/skill-examples) | Skillset examples in indexer pipelines that include indexes and indexers so that you can follow field mappings, output field mappings, and source paths. |
 | [debug-sessions](https://github.com/Azure-Samples/azure-search-rest-samples/tree/main/Debug-sessions) | Source code for [Tutorial: Diagnose, repair, and commit changes to your skillset](cognitive-search-tutorial-debug-sessions.md). This sample shows you how to use a skillset debug session in the Azure portal. REST is used to create the objects used during debug.|
````
</details>

### Summary

```json
{
    "modification_type": "minor update",
    "modification_title": "更新代理检索示例链接"
}
```

### Explanation
该代码差异显示了对文件“samples-rest.md”的更新。这次修改涉及到对“quickstart-agentic-retrieval”链接的细微调整，将链接中的路径从“agentic-retrieval”更改为“Quickstart-agentic-retrieval”。此更新没有增加或删除任何内容，但修正了链接中的路径，使其更加准确。这种更新有助于确保用户可以正确访问相关的示例代码，提升文档的准确性和用户体验。用户可以通过提供的链接查看更新后的文档。

## articles/search/search-agentic-retrieval-concept.md{#item-797a22}

<details>
<summary>Diff</summary>
````diff
@@ -5,7 +5,7 @@ description: Learn about agentic retrieval concepts, architecture, and use cases
 author: HeidiSteen
 ms.author: heidist
 manager: nitinme
-ms.date: 05/19/2025
+ms.date: 06/08/2025
 ms.service: azure-ai-search
 ms.topic: concept-article
 ms.custom:
@@ -17,20 +17,22 @@ ms.custom:
 
 [!INCLUDE [Feature preview](./includes/previews/preview-generic.md)]
 
-In Azure AI Search, *agentic retrieval* is a new parallel query processing architecture that incorporates user conversation history and Azure OpenAI models to plan, retrieve and synthesize queries for improved results. It produces high-quality grounding data for custom chat and generative AI solutions that include knowledge agents.
+In Azure AI Search, *agentic retrieval* is a new query pipeline designed for complex questions posed by users or agents in chat and copilot apps. It uses a large language model (LLM) to break down a question into smaller subqueries, often using chat history for context. These subqueries run in parallel, each searching for the most relevant content in your index. The results are ranked for semantic relevance, combined, and sent back to your LLM to help generate accurate answers using your proprietary content.
 
 Programmatically, agentic retrieval is supported through a new Knowledge Agents object in the 2025-05-01-preview data plane REST API and in Azure SDK prerelease packages that provide the feature. A knowledge agent's retrieval response is designed for downstream consumption by other agents and chat apps.
 
 ## Why use agentic retrieval
 
-You should use agentic retrieval when you want to send high quality data to an agent or to ground a chat experience with inputs that include your proprietary content.
+You should use agentic retrieval when you want to provide agents and apps with the most relevant content for answering harder questions, leveraging chat context and your proprietary content.
 
 The *agentic* aspect is a reasoning step in query planning processing that's performed by a supported large language model (LLM) that you provide. The LLM analyzes the entire chat thread to identify the underlying information need. Instead of a single, catch-all query, the model breaks down compound questions into focused subqueries based on: user questions, chat history, and parameters on the request. The subqueries target your indexed documents (plain text and vectors) in Azure AI Search.This hybrid approach ensures you surface both keyword matches and semantic similarities at once, dramatically improving recall. 
 
 The *retrieval* component is the ability to run subqueries simultaneously, merge results, semantically rank results, and return a three-part response that includes grounding data for the next conversation turn, reference data so that you can inspect the source content, and an activity plan that shows query execution steps.
 
 Query expansion and parallel execution, plus the retrieval response, are the key capabilities of agentic retrieval that make it the best choice for generative AI (RAG) applications.
 
+:::image type="content" source="media/agentic-retrieval/agentric-retrieval-example.png" alt-text="Diagram of a complex query with implied context and an intentional typo." lightbox="media/agentic-retrieval/agentric-retrieval-example.png" :::
+
 Agentic retrieval adds latency to query processing, but it makes up for it by adding these capabilities:
 
 + Reads in chat history as an input to the retrieval pipeline.
````
</details>

### Summary

```json
{
    "modification_type": "minor update",
    "modification_title": "更新代理检索概念文档"
}
```

### Explanation
此代码差异显示对“search-agentic-retrieval-concept.md”文件的修改。主要内容包括对代理检索的描述进行了更新，将其定义从“并行查询处理架构”调整为“用于复杂用户问题的新查询管道”。此外，增加了一些关于如何使用大型语言模型（LLM）分解问题及其并行查询处理的详细信息，阐明了其在聊天和助手应用中的重要性。

文档中还更新了代理检索的使用场景，强调其在提供相关内容以满足复杂问题方面的优势。同时，增加了一幅图像来帮助说明复杂查询的结构，进一步丰富了文档的内容。此修改旨在提升用户对代理检索概念和实用性的理解，确保信息的准确性和时效性。用户可以通过提供的链接查看更新后的文档。

## articles/search/search-agentic-retrieval-how-to-pipeline.md{#item-1ad1c3}

<details>
<summary>Diff</summary>
````diff
@@ -5,7 +5,7 @@ description: Learn how to design and build a custom agentic retrieval solution w
 author: HeidiSteen
 ms.author: heidist
 manager: nitinme
-ms.date: 05/21/2025
+ms.date: 06/08/2025
 ms.service: azure-ai-search
 ms.topic: how-to
 ms.custom:
@@ -16,7 +16,9 @@ ms.custom:
 
 [!INCLUDE [Feature preview](./includes/previews/preview-generic.md)]
 
-This article describes an approach or pattern for building a solution that uses Azure AI Search for knowledge retrieval, and how to integrate knowledge retrieval into a custom solution that includes Azure AI Agent.
+This article describes an approach or pattern for building a solution that uses Azure AI Search for knowledge retrieval, and how to integrate knowledge retrieval into a custom solution that includes Azure AI Agent. This pattern uses an agent tool to invoke an agentic retrieval pipeline in Azure AI Search.
+
+:::image type="content" source="media/agentic-retrieval/agent-to-agent-pipeline.png" alt-text="Diagram of Azure AI Search integration with Azure AI Agent service." lightbox="media/agentic-retrieval/agent-to-agent-pipeline.png" :::
 
 This article supports the [agentic-retrieval-pipeline-example](https://github.com/Azure-Samples/azure-search-python-samples/tree/main/agentic-retrieval-pipeline-example) Python sample on GitHub.
 
````
</details>

### Summary

```json
{
    "modification_type": "minor update",
    "modification_title": "更新代理检索管道文档"
}
```

### Explanation
此代码差异反映了对“search-agentic-retrieval-how-to-pipeline.md”文件的更新。主要修改包括更新了文档的日期和描述，强调了如何使用代理工具调用 Azure AI Search 中的代理检索管道。此外，新增了一幅图像，展示 Azure AI Search 与 Azure AI Agent 服务的集成示意图，从而增强了文档的可视化效果和理解。

这些改动旨在提供更清晰的流程说明和集成示例，帮助用户更好地理解如何在自定义解决方案中实现知识检索功能。修改后的文档可通过提供的链接查看。

## articles/search/search-agentic-retrieval-how-to-retrieve.md{#item-5f7fc0}

<details>
<summary>Diff</summary>
````diff
@@ -8,14 +8,14 @@ author: HeidiSteen
 ms.author: heidist
 ms.service: azure-ai-search
 ms.topic: how-to
-ms.date: 05/30/2025
+ms.date: 06/08/2025
 ---
 
 # Retrieve data using a knowledge agent in Azure AI Search
 
 [!INCLUDE [Feature preview](./includes/previews/preview-generic.md)]
 
-In Azure AI Search, *agentic retrieval* is a new parallel query architecture that uses a chat completion model for query planning. It generates subqueries that broaden the scope of what's searchable and relevant.
+In Azure AI Search, *agentic retrieval* is a new parallel query architecture that uses a large language model (LLM) for query planning. It generates subqueries that broaden the scope of what's searchable and relevant. It incorporates chat history for context. The LLM studies the query and subdivides it into more targeted queries, using different phrases and terminology for subquery composition.
 
 This article explains how to use the [**retrieve method**](/rest/api/searchservice/knowledge-retrieval/retrieve?view=rest-searchservice-2025-05-01-preview&preserve-view=true) that invokes a knowledge agent and parallel query processing. This article also explains the three components of the retrieval response: 
 
@@ -26,7 +26,7 @@ This article explains how to use the [**retrieve method**](/rest/api/searchservi
 The retrieve request can include instructions for query processing that override the defaults set on the knowledge agent.
 
 > [!NOTE]
-> There's no model-generated "answer" in the response. Instead, the response passes content to an LLM that grounds its answer based on the content. For an end-to-end example that includes this step, see [Build an agent-to-agent retrieval solution ](search-agentic-retrieval-how-to-pipeline.md) or [Azure OpenAI Demo](https://github.com/Azure-Samples/azure-search-openai-demo).
+> There's no model-generated "answer" in the response. Instead, you should pass the response to an LLM that grounds its answer based on the content. For an end-to-end example that includes this step, see [Build an agent-to-agent retrieval solution ](search-agentic-retrieval-how-to-pipeline.md) or [Azure OpenAI Demo](https://github.com/Azure-Samples/azure-search-openai-demo).
 
 ## Prerequisites
 
````
</details>

### Summary

```json
{
    "modification_type": "minor update",
    "modification_title": "更新如何检索文档"
}
```

### Explanation
此代码差异涉及对“search-agentic-retrieval-how-to-retrieve.md”文件的更新。文档日期已更新，同时对代理检索的描述进行了细化，将“聊天完成模型”更改为“大型语言模型（LLM）”，并强调了其在查询规划中的作用。更新的文本还提到，LLM在处理查询时会使用上下文中的聊天历史，并将查询分解为更有针对性的子查询。

此外，在关于检索响应的说明中，文档从“模型生成的答案”更改为建议用户将响应传递给LLM，以便基于内容生成答案。这些改动有助于提升文档的清晰度和准确性，使用户能够更好地理解如何使用代理进行知识检索及其背后的处理逻辑。修改后的文档可以通过提供的链接查看。


