---
date: '2025-06-11'
permalink: https://github.com/MicrosoftDocs/azure-ai-docs/compare/MicrosoftDocs:4e306c3...MicrosoftDocs:776cc95
summary: 在此次代码更新中，对三个文件进行了小幅度更新，重点在于提升文档的实用性和易用性。新增了处理新错误类型的FAQ、更新了细化模型信息及全球训练可用区域，并对文档目录进行了重新组织。这些改动包括了对用户反馈的响应，确保用户能够更高效地解决问题和获取相关信息，同时优化了文档的导航性和连贯性。
title: '[zh_CN] Diff Insight Report - openai'

---

[View Diff on GitHub](https://github.com/MicrosoftDocs/azure-ai-docs/compare/MicrosoftDocs:4e306c3...MicrosoftDocs:776cc95){target="_blank"}

<format>
# Highlights
在这次代码更新中，主要对三个文件做了小幅度的更新，包括更新FAQ内容以处理新的错误类型、更新细化模型信息以及训练可用区域，还有重新组织文档目录以添加和更新主题结构。这些改动主要聚焦于提升文档的实用性和易用性。

## New features
1. 增加了关于处理新错误类型（如“服务器错误（500）”）的FAQ。
2. 针对全球训练功能，增加了多个新的可用区域，并在文档中列出详细信息。
3. 增加了多项新的目录主题，如“API 生命周期”等。

## Breaking changes
1. `gpt-4.1-nano` 模型从支持状态变更为不再支持。
2. 部分旧主题被删除，以优化目录结构。

## Other updates
1. FAQ中的部分表述被更新，以更准确传达信息。
2. 对已有的模型信息进行了微调，确保文档的准确性。
3. 目录结构调整，提供了优化的用户导航体验。

# Insights
此次更新对 `articles/ai-services/openai/faq.yml`, `articles/ai-services/openai/includes/fine-tune-models.md` 和 `articles/ai-services/openai/toc.yml` 三个文件进行了详细的优化和扩展，旨在提升用户处理常见问题时的体验和获取信息的效率。

在FAQ部分，新增了处理服务器错误的问答，使用户在遇到HTTP 500错误时能有明确的解决方案，如调整提示温度或增加重试机制。这种修改体现了对用户反馈的响应，帮助用户更高效地利用API。

关于细化模型文档的更新，内容涵盖模型支持状态的最新变化，以及全球训练由哪些区域支持此功能的信息更新。这不仅确保用户掌握当前可用的模型和功能，也有助于规划在全球范围内部署或使用大型训练服务的策略。

目录的重组和新增内容旨在使文档更具导航性和指导性。新主题的增加如“API 生命周期”，以及对现有主题的优化和旧内容的清理，不仅丰富了文档资源，也提升了内容管理的逻辑性和连贯性，为用户带来更清晰的文档体验。

总的而言，这些更新反映了对产品更新和用户需求的敏捷响应，提升了文档的详尽性和可用性。
</format>

# Summary Table
|  Filename  | Type |    Title    | Status | A  | D  | M  |
|------------|------|-------------|--------|----|----|----|
| [faq.yml](#item-6deb71) | minor update | 更新问答内容以处理新错误类型 | modified | 8 | 1 | 9 | 
| [fine-tune-models.md](#item-2aadea) | minor update | 更新细化模型信息和全球训练可用区域 | modified | 6 | 2 | 8 | 
| [toc.yml](#item-c945af) | minor update | 更新目录以添加新的主题和结构 | modified | 108 | 98 | 206 | 


# Modified Contents
## articles/ai-services/openai/faq.yml{#item-6deb71}

<details>
<summary>Diff</summary>
````diff
@@ -109,9 +109,16 @@ sections:
           How do I fix InternalServerError - 500 - Failed to create completion as the model generated invalid Unicode output?
         answer:
           You can minimize the occurrence of these errors by reducing the temperature of your prompts to less than 1 and ensuring you're using a client with retry logic. Reattempting the request often results in a successful response.
+      - question: |
+          How do I fix Server error (500): Unexpected special token
+        answer: |
+          This is a a known issue. You can minimize the occurrence of these errors by reducing the temperature of your prompts to less than 1 and ensuring you're using a client with retry logic. Reattempting the request often results in a successful response. 
+          
+          If reducing temperature to less than 1 does not reduce the frequency of this error an alternative workaround is set presence/frequency penalties and logit biases to their default values. In some cases, it may help to set `top_p` to a non-default, lower value to encourage the model to avoid sampling tokens with lower probability tokens.  
+          
       - question: |
           We noticed charges associated with API calls that failed to complete with status code 400. Why are failed API calls generating a charge? 
-        answer:
+        answer: 
           If the service performs processing, you will be charged even if the status code is not successful (not 200).
           Common examples of this are, a 400 error due to a content filter or input limit, or a 408 error due to a time-out. Charges will also occur when a `status 200` is received with a `finish_reason` of `content_filter`.
           In this case the prompt did not have any issues, but the completion generated by the model was detected to violate the content filtering rules, which result in the completion being filtered. 
````
</details>

### Summary

```json
{
    "modification_type": "minor update",
    "modification_title": "更新问答内容以处理新错误类型"
}
```

### Explanation
此次代码修改对 `articles/ai-services/openai/faq.yml` 文件进行了小幅更新，增加了关于新错误类型和解决方法的问答内容。具体来说，新增了一条关于如何解决“服务器错误（500）”的问题，并提供了相应的解决方案。这些解决方案建议用户降低提示的温度参数，并确保客户端具备重试逻辑，以增加获得成功响应的机会。

与此同时，原有的问题回答内容也进行了微调，以更准确地表述因内容过滤或输入限制而导致的费用产生情况。此次更新响应了用户对 API 调用时出现的一些常见错误的关切，增强了文档的完整性和实用性。总的来说，此次修改旨在提升用户在处理特定错误时的体验。

## articles/ai-services/openai/includes/fine-tune-models.md{#item-2aadea}

<details>
<summary>Diff</summary>
````diff
@@ -26,20 +26,24 @@ ms.custom:
 | `gpt-4o` (2024-08-06) | East US2 <br> North Central US <br> Sweden Central | - | Input: 128,000 <br> Output: 16,384  <br> Training example context length: 65,536 | Oct 2023 | Text & Vision to Text |
 | `gpt-4.1` (2025-04-14) | North Central US <br> Sweden Central | ✅ | Input: 128,000 <br> Output: 16,384 <br> Training example context length: 65,536 | May 2024 | Text & Vision to Text |
 | `gpt-4.1-mini` (2025-04-14) | North Central US <br> Sweden Central | ✅ | Input: 128,000 <br> Output: 16,384 <br> Training example context length: 65,536 | May 2024 | Text to Text |
-| `gpt-4.1-nano` (2025-04-14) | North Central US <br> Sweden Central | ✅ | Input: 128,000 <br> Output: 16,384 <br> Training example context length: 32,768 | May 2024 | Text to Text |
+| `gpt-4.1-nano` (2025-04-14) | North Central US <br> Sweden Central | - | Input: 128,000 <br> Output: 16,384 <br> Training example context length: 32,768 | May 2024 | Text to Text |
 | `o4-mini` (2025-04-16) | East US2 <br> Sweden Central | - | Input: 128,000 <br> Output: 16,384 <br> Training example context length: 65,536 | May 2024 | Text to Text |
 
 > [!NOTE]
 > **Global** training (in Public Preview) provides [more affordable](https://aka.ms/aoai-pricing) training per-token, but does not offer [data residency](https://aka.ms/data-residency). It is currently available to Azure OpenAI resources in the following regions, with more regions coming soon:
 >- Australia East
 >- Brazil South
+>- EastUS2
 >- France Central
 >- Germany West Central
 >- Italy North
 >- Japan East _(no vision support)_
 >- Korea Central
+>- North Central US
 >- Norway East
 >- Poland Central
 >- Southeast Asia
->- Spain Central
 >- South Africa North
+>- Spain Central
+>- Sweden Central
+>- Switzerland West
````
</details>

### Summary

```json
{
    "modification_type": "minor update",
    "modification_title": "更新细化模型信息和全球训练可用区域"
}
```

### Explanation
此次修改对 `articles/ai-services/openai/includes/fine-tune-models.md` 文件进行了小幅更新，主要涉及细化模型信息和全球训练的可用区域。更新内容包括：

1. **模型状态更改**：对于 `gpt-4.1-nano` 模型，从先前的支持状态（✅）更新为不再支持（-），以反映最新的状态信息。

2. **全球训练可用区域扩展**：在文档中提供了全球训练的可用区域列表，并新增了几个地区，如East US2、North Central US和Sweden Central，以明确这些区域支持公共预览的全球训练。

3. **其他模型信息**：对已经存在的模型数据进行了一些微调，确保文档信息的准确性和一致性。

整体而言，此次更新旨在提供更清晰的模型状态和功能，确保用户能够获取到最新的服务信息。

## articles/ai-services/openai/toc.yml{#item-c945af}

<details>
<summary>Diff</summary>
````diff
@@ -21,6 +21,8 @@ items:
       href: whats-new.md
     - name: Programming languages/SDKs
       href: ./supported-languages.md
+    - name: API lifecycle
+      href: ./api-version-lifecycle.md
     - name: Azure OpenAI FAQ
       href: faq.yml
     - name: Azure OpenAI in Azure Government
@@ -48,6 +50,102 @@ items:
       href: text-to-speech-quickstart.md
     - name: Completions (legacy)
       href: quickstart.md
+- name: Audio
+  items:
+      - name: Realtime API for speech and audio (preview)
+        href: ./how-to/realtime-audio.md
+      - name: Realtime API via WebRTC (preview)
+        href: ./how-to/realtime-audio-webrtc.md
+      - name: Realtime API via WebSockets (preview)
+        href: ./how-to/realtime-audio-websockets.md
+- name: Batch
+  items:
+     - name: Getting started with batch
+       href: ./how-to/batch.md
+     - name: Batch with Azure Blob Storage
+       href: ./how-to/batch-blob-storage.md   
+- name: Responses & chat completions
+  items:
+    - name: Responses API
+      href: ./how-to/responses.md
+    - name: Reasoning models
+      href: ./how-to/reasoning.md
+    - name: Chat completions API
+      href: ./how-to/chatgpt.md
+      displayName: ChatGPT, chatgpt
+    - name: Computer Use
+      href: ./how-to/computer-use.md
+      displayName: cua, computer using model
+    - name: Model router
+      items:
+      - name: Getting started with model router
+        href: ./how-to/model-router.md
+      - name: Model router concepts
+        href: ./concepts/model-router.md
+    - name: Function calling
+      href: ./how-to/function-calling.md
+    - name: Predicted outputs
+      href: ./how-to/predicted-outputs.md
+    - name: Prompt caching
+      href: ./how-to/prompt-caching.md
+    - name: Structured outputs
+      href: ./how-to/structured-outputs.md
+    - name: Vision-enabled chats
+      href: ./how-to/gpt-with-vision.md
+    - name: Additional features
+      items:
+      - name: JSON mode
+        href: ./how-to/json-mode.md
+      - name: Reproducible output
+        href: ./how-to/reproducible-output.md
+- name: Embeddings
+  items:
+    - name: Embeddings basics
+      href: ./how-to/embeddings.md
+    - name: Getting started with embeddings
+      href: ./tutorials/embeddings.md
+- name: Evaluation
+  href: ./how-to/evaluations.md
+- name: Fine-tuning
+  items:
+      - name: Fine-tuning your model
+        href: ./how-to/fine-tuning.md
+        displayName: finetuning, fine-tuning
+      - name: Deploy for testing
+        href: ./how-to/fine-tune-test.md
+        displayName: finetuning, fine-tuning
+      - name: Deploy your fine-tuned model
+        href: ./how-to/fine-tuning-deploy.md 
+        displayName: finetuning, fine-tuning  
+      - name: Vision fine-tuning
+        href: ./how-to/fine-tuning-vision.md
+        displayName: finetuning, fine-tuning  
+      - name: Preference fine-tuning
+        href: ./how-to/fine-tuning-direct-preference-optimization.md
+        displayName: finetuning, fine-tuning  
+      - name: Reinforcement fine-tuning
+        href: ./how-to/reinforcement-fine-tuning.md
+        displayName: finetuning, fine-tuning
+      - name: Safety evaluation
+        href: ./how-to/fine-tuning-safety-evaluation.md
+        displayName: finetuning, fine-tuning  
+      - name: Tool calling
+        href: ./how-to/fine-tuning-functions.md
+        displayName: fine-tuning, finetuning, function calling
+      - name: Weights & Biases integration (preview)
+        href: ./how-to/weights-and-biases-integration.md
+        displayName: finetuning, fine-tuning  
+      - name: Troubleshooting guidance
+        href: ./how-to/fine-tuning-troubleshoot.md
+        displayName: finetuning, fine-tuning
+- name: Image & video generation
+  items:
+  - name: Image generation
+    href: ./how-to/dall-e.md
+  - name: Video generation (preview)
+    href: ./concepts/video-generation.md
+- name: Stored completions
+  href: ./how-to/stored-completions.md
 - name: Concepts
   items:
     - name: Assistants
@@ -116,8 +214,6 @@ items:
       href: ./concepts/legacy-models.md
 - name: How-to 
   items:
-  - name: API version lifecycle
-    href: ./api-version-lifecycle.md
   - name: Assistants (preview)
     items:
     - name: Getting started with Assistants
@@ -134,108 +230,12 @@ items:
           href: ./how-to/assistants-logic-apps.md
       - name: File search
         href: ./how-to/file-search.md
-  - name: Audio
-    items:
-      - name: Realtime API for speech and audio (preview)
-        href: ./how-to/realtime-audio.md
-      - name: Realtime API via WebRTC (preview)
-        href: ./how-to/realtime-audio-webrtc.md
-      - name: Realtime API via WebSockets (preview)
-        href: ./how-to/realtime-audio-websockets.md
-  - name: Batch
-    items:
-     - name: Getting started with batch
-       href: ./how-to/batch.md
-     - name: Batch with Azure Blob Storage
-       href: ./how-to/batch-blob-storage.md   
-  - name: Responses & chat completions
-    items:
-    - name: Responses API
-      href: ./how-to/responses.md
-    - name: Reasoning models
-      href: ./how-to/reasoning.md
-    - name: GPT-35-Turbo & GPT-4 
-      href: ./how-to/chatgpt.md
-      displayName: ChatGPT, chatgpt
-    - name: Model router
-      href: ./how-to/model-router.md
-    - name: Computer Use
-      href: ./how-to/computer-use.md
-      displayName: cua, computer using model
-    - name: Vision-enabled chats
-      href: ./how-to/gpt-with-vision.md
-    - name: Image generation
-      href: ./how-to/dall-e.md
-    - name: Function calling
-      href: ./how-to/function-calling.md
-    - name: Completions (legacy)
-      href: ./how-to/completions.md
-    - name: JSON mode
-      href: ./how-to/json-mode.md
-    - name: Predicted outputs
-      href: ./how-to/predicted-outputs.md
-    - name: Prompt caching
-      href: ./how-to/prompt-caching.md
-    - name: Reproducible output
-      href: ./how-to/reproducible-output.md
-    - name: Structured outputs
-      href: ./how-to/structured-outputs.md
-    - name: Work with code
-      href: ./how-to/work-with-code.md
-    - name: Deploy and use web apps
-      href: ./how-to/use-web-app.md
-    - name: Legacy
-      items:
-      - name: Chat Markup Language (ChatML)
-        href: ./how-to/chat-markup-language.md 
   - name: Content filtering
     href: ./how-to/content-filters.md
   - name: Use blocklists
     href: ./how-to/use-blocklists.md
   - name: Risks & Safety Monitoring
     href: ./how-to/risks-safety-monitor.md
-  - name: Embeddings
-    items:
-    - name: Embeddings basics
-      href: ./how-to/embeddings.md
-    - name: Getting started with embeddings
-      href: ./tutorials/embeddings.md
-  - name: Evaluation
-    href: ./how-to/evaluations.md
-  - name: Fine-tuning
-    items:
-      - name: Fine-tuning your model
-        href: ./how-to/fine-tuning.md
-        displayName: finetuning, fine-tuning
-      - name: Deploy for testing
-        href: ./how-to/fine-tune-test.md
-        displayName: finetuning, fine-tuning
-      - name: Deploy your fine-tuned model
-        href: ./how-to/fine-tuning-deploy.md 
-        displayName: finetuning, fine-tuning  
-      - name: Vision fine-tuning
-        href: ./how-to/fine-tuning-vision.md
-        displayName: finetuning, fine-tuning  
-      - name: Preference fine-tuning
-        href: ./how-to/fine-tuning-direct-preference-optimization.md
-        displayName: finetuning, fine-tuning  
-      - name: Reinforcement fine-tuning
-        href: ./how-to/reinforcement-fine-tuning.md
-        displayName: finetuning, fine-tuning
-      - name: Safety evaluation
-        href: ./how-to/fine-tuning-safety-evaluation.md
-        displayName: finetuning, fine-tuning  
-      - name: Tool calling
-        href: ./how-to/fine-tuning-functions.md
-        displayName: fine-tuning, finetuning, function calling
-      - name: Weights & Biases integration (preview)
-        href: ./how-to/weights-and-biases-integration.md
-        displayName: finetuning, fine-tuning  
-      - name: Troubleshooting guidance
-        href: ./how-to/fine-tuning-troubleshoot.md
-        displayName: finetuning, fine-tuning
-  - name: Stored completions
-    href: ./how-to/stored-completions.md
   - name: Use your data
     items:
       - name: Text data
@@ -304,6 +304,16 @@ items:
         href: ./how-to/role-based-access-control.md
       - name: Business continuity & disaster recovery (BCDR)
         href: ./how-to/business-continuity-disaster-recovery.md
+  - name: Work with code
+    href: ./how-to/work-with-code.md
+  - name: Deploy and use web apps
+    href: ./how-to/use-web-app.md
+  - name: Legacy
+    items:
+    - name: Completions (legacy)
+      href: ./how-to/completions.md
+    - name: Chat Markup Language (ChatML)
+      href: ./how-to/chat-markup-language.md 
 - name: Tutorials
   items:
     - name: Embeddings
````
</details>

### Summary

```json
{
    "modification_type": "minor update",
    "modification_title": "更新目录以添加新的主题和结构"
}
```

### Explanation
此次修改对 `articles/ai-services/openai/toc.yml` 文件进行了较大调整，添加和删除了多个主题项，更新了目录结构。主要变化包括：

1. **新增主题**：增加了多个新条目，如“API 生命周期”、“音频”、“批处理”、“响应与聊天完成”等，这些新主题包含多个子项，指向相关的文档，旨在丰富文档内容并提供更好的指导。

2. **调整现有主题**：某些主题的结构进行了优化，比如将“Fine-tuning”相关内容进行了重组，增加了关于模型微调的重要信息，并更详细地说明了各种微调策略和流程。

3. **删除一些旧主题**：删除了部分不再适用或较少使用的内容，如某些旧有的“响应与聊天完成”相关条目。

4. **优化显示名称**：在某些条目中添加了多个显示名称，以便于用户在查找时可以更轻松地识别相关主题。

整体而言，此次更新优化了目录的可用性和易读性，使得用户能够更方便地找到所需的信息，同时反映了文档内容的最新增加和变化。


